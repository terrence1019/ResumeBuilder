<!-- This View uses the ViewModel-->

@model RésuméBuilder.ViewModels.ResumeViewModel
@using RésuméBuilder.Models

@{
    ViewBag.Title = "Résumé";


    

}

@Html.Partial("_ResumeStyle")

<h2 id="mainTitle">Résumé</h2>

<div hidden>

    <p>@Model.ApplicantRecordVM.ApplicantID</p>
    <p>@Model.ApplicantRecordVM.ApplicantUsername</p>

</div>


<!-- PERSONAL -->

<div>

    <hr />

    <h1>@Model.PersonalRecordVM.FirstName @Model.PersonalRecordVM.MiddleName @Model.PersonalRecordVM.LastName</h1>




    <div>

        <table id="personal_table">
            <tr>
                <!-- HORIZONTAL ROW 1 -->
                <th class="personal">
                    <!-- CELL 1 OF ROW -->
                    Address
                </th>
                <td>
                    <!-- CELL 2 OF ROW -->
                    @Model.PersonalRecordVM.StreetLocation,
                </td>
                <td>
                </td>

                <th class="personal">
                    <!-- CELL 3 OF ROW -->
                    Email (Work)
                </th>
                <td>
                    <!-- CELL 4 OF ROW -->
                    @Model.PersonalRecordVM.EmailWork
                </td>

                <th class="personal">
                    Mobile
                </th>
                <td>
                    @Model.PersonalRecordVM.PhoneMobile
                </td>


            </tr>

            <tr>
                <!-- HORIZONTAL ROW 2 -->
                <th>

                </th>
                <td>
                    @Model.PersonalRecordVM.AreaLocation,
                </td>

                <td>
                </td>

                <th class="personal">
                    Email (Personal)
                </th>
                <td>
                    @Model.PersonalRecordVM.EmailHome
                </td>

                <th class="personal">
                    Home
                </th>
                <td>
                    @Model.PersonalRecordVM.PhoneHome
                </td>



            </tr>

            <tr>
                <!-- HORIZONTAL ROW 3 -->
                <th>

                </th>
                <td>
                    @Model.PersonalRecordVM.RegionLocation,
                </td>

                <td>
                </td>


            </tr>

            <tr>
                <!-- HORIZONTAL ROW 4 -->
                <td>
                </td>
                <td>
                    Trinidad & Tobago
                </td>

                <td>
                </td>

            </tr>

        </table>

    </div>

</div>



<!-- SKILLS -->

<div>

    <hr />

    <h2>Skills</h2>


    <!-- PULLING RECORDS FROM DB -->
    @{ 

        //Target ApplicantID
        int appid = Model.ApplicantRecordVM.ApplicantID;


        //Set up instance of Database Context
        MyDbContext dbContext = new MyDbContext();

        //Pull up the Skill Table
        var skillsTable = dbContext.skillDB;



        <table cellspacing="25">

                <tbody>

                    @foreach (var skill in skillsTable)
                    {
                        if (skill.ApplicantID == appid)
                        {

                            //There needs to be a way to do this:
                            /*

                             Group Skill Categories
                            foreach Skill Category, print it and the associated skills






                                 */


                            <tr><td><h3>@skill.SkillCategory</h3></td></tr>


                            //<p>RECORD FOUND FOR Application ID @appid!</p>
                            <tr>
                                <td>
                                    <ul class="skill">
                                        <li>@skill.SkillPoint</li>
                                    </ul>
                                </td>
                            </tr>


                        }

                    }

                </tbody>

        </table>


    }


<!--


    


    -->






</div>
